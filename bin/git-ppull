#! /usr/bin/env zsh
#compdef git-ppull

git-ppull() {
    emulate -L zsh
    set -uo pipefail
    setopt err_return extended_glob null_glob typeset_to_unset warn_create_global
    unsetopt short_loops

    local _usage='Usage: git-ppull [options]

Pull from origin & prune local branches that have been deleted on the remote.

Flags:
  -h, --help      Show this help message
  -f, --force     Force delete branches without confirmation

Options:
  -e, --exclude         Exclude by name
  -p, --exclude-pattern Exclude by glob pattern (make sure to quote it!)'

    git pull --prune "$@"
    git-pprune "$@"
}

git-ppull "$@"
